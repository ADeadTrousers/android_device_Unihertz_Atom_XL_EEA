From 88488f0276c9d7cd9b023801a4b7fa3c46ddeefa Mon Sep 17 00:00:00 2001
From: Matthias Leitl <a.dead.trousers@gmail.com>
Date: Sat, 30 Jan 2021 18:47:47 +0100
Subject: [PATCH] Deactivate unused error messages and move to product

Change-Id: Iaa88222155f3c07c1966c020a735fb0c99679f14
---
 Android.mk         | 3 ++-
 jni/fmr/Android.mk | 3 +++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/Android.mk b/Android.mk
index 86b479b..f4ce831 100644
--- a/Android.mk
+++ b/Android.mk
@@ -34,6 +34,7 @@ LOCAL_PRIVATE_PLATFORM_APIS := true
 LOCAL_JNI_SHARED_LIBRARIES := libfmjni
 
 LOCAL_PROGUARD_ENABLED := disabled
+LOCAL_PRODUCT_MODULE := true
 LOCAL_PRIVILEGED_MODULE := true
 
 LOCAL_STATIC_ANDROID_LIBRARIES := \
@@ -53,7 +54,7 @@ include $(CLEAR_VARS)
 LOCAL_MODULE := privapp_whitelist_com.android.fmradio.xml
 LOCAL_MODULE_CLASS := ETC
 LOCAL_MODULE_TAGS := optional
-LOCAL_MODULE_PATH := $(TARGET_OUT_ETC)/permissions
+LOCAL_MODULE_PATH := $(TARGET_OUT_PRODUCT_ETC)/permissions
 LOCAL_SRC_FILES := $(LOCAL_MODULE)
 include $(BUILD_PREBUILT)
 
diff --git a/jni/fmr/Android.mk b/jni/fmr/Android.mk
index 90cf5c3..980d0a1 100644
--- a/jni/fmr/Android.mk
+++ b/jni/fmr/Android.mk
@@ -35,6 +35,9 @@ LOCAL_SHARED_LIBRARIES := \
     libmedia \
     liblog
 
+LOCAL_CFLAGS += -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function
+
+LOCAL_PRODUCT_MODULE := true
 LOCAL_MODULE := libfmjni
 LOCAL_MODULE_TAGS := optional
 
-- 
2.25.1

